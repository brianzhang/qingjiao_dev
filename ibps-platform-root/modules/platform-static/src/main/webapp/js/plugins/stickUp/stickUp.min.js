jQuery(function(s){s(document).ready(function(){var t=[],n=[],e=0,o="",i="",r="",a=null,c=0,p=0,u=0,l=0,d=0,g=0
s(window).scroll(function(t){var n=s(this).scrollTop()
o=n>e?"down":"up",e=n}),s.fn.stickUp=function(t){s(this).addClass("stuckMenu")
var e=0
if(null!=t){for(var o in t.parts)t.parts.hasOwnProperty(o)&&(n[e]=t.parts[e],e++)
0==e&&console.log("error:needs arguments"),i=t.itemClass,r=t.itemHover,null!=t.topMargin?"auto"==t.topMargin?l=parseInt(s(".stuckMenu").css("margin-top")):isNaN(t.topMargin)&&t.topMargin.search("px")>0?l=parseInt(t.topMargin.replace("px","")):isNaN(parseInt(t.topMargin))?(console.log("incorrect argument, ignored."),l=0):l=parseInt(t.topMargin):l=0,a=s("."+i).size()}c=parseInt(s(this).height()),p=parseInt(s(this).css("margin-bottom")),u=parseInt(s(this).next().closest("div").css("margin-top")),d=parseInt(s(this).offset().top)},s(document).on("scroll",function(){function e(e){contentView=.4*s("#"+n[e]).height(),testView=t[e]-contentView,g>testView?(s("."+i).removeClass(r),s("."+i+":eq("+e+")").addClass(r)):50>g&&(s("."+i).removeClass(r),s("."+i+":eq(0)").addClass(r))}if(g=parseInt(s(document).scrollTop()),null!=a)for(var f=0;a>f;f++)t[f]=s("#"+n[f]).offset().top,"down"==o&&g>t[f]-50&&g<t[f]+50&&(s("."+i).removeClass(r),s("."+i+":eq("+f+")").addClass(r)),"up"==o&&e(f)
g+l>d&&(s(".stuckMenu").addClass("isStuck"),s(".stuckMenu").next().closest("div").css({"margin-top":c+p+u+"px"},10),s(".stuckMenu").css("position","fixed"),s(".isStuck").css({top:"0px"},10,function(){})),d>g+l&&(s(".stuckMenu").removeClass("isStuck"),s(".stuckMenu").next().closest("div").css({"margin-top":u+"px"},10),s(".stuckMenu").css("position","relative"))})})})
