/**
 * 表单预览
 */
$(function() {
	var data = {}, id = $("#id").val(), mode = $("#mode").val();
	if (id != "") {
		data = JSON.parse($("#data").val());
	} else {
		if (frameElement) {
			data = _.clone(frameElement.dialog.params);
		}
	}
	data.response = {};

	// 流程图测试数据
	// data.taskId = '304924280334843904';
	// data.instanceId = '304924255739445248';
	// data.defId = '1aa91b10-dd6e-11e6-0ae8-adf6fc844c04';
	// 测试数据
	/*
	 * data.response = { responses: {"zd1":'cs'} };
	 */
	// 测试数据
	/*
	 * data.response = { responses:
	 * {"sj1":'image/png;base64,iVBORw0KGgoAAAANSUhEUgAABRoAAAFHCAYAAADOevARAAAgAElEQVR4Xu3db4hl530f8O+RdossDF5FSlrHyFq3hJoSR2uXxCYx1RrayIUGrfyitf3Gq8p2QyjSUN8rq33j1YvAOndUrxGFkMiWRINS1yRaFZfKDVQrSF7EgWpFTHD6z2u1VkujWKsSZBGv9pRz713tzGhmZ+bOufeee57PAaFdzTnPeX6f3zGMvzznPFUcBAgQIECAAAECBAgQIECAAAECBAgQOKBAdcDrXU6AAAECBAgQIECAAAECBAgQIECAAIEIGj0EBAgQIECAAAECBAgQIECAAAECBAgcWEDQeGBCAxAgQIAAAQIECBAgQIAAAQIECBAgIGj0DBAgQIAAAQIECBAgQIAAAQIECBAgcGABQeOBCQ1AgAABAgQIECBAgAABAgQIECBAgICg0TNAgAABAgQIECBAgAABAgQIECBAgMCBBQSNByY0AAECBAgQIECAAAECBAgQIECAAAECgkbPAAECBAgQIECAAAECBAgQIECAAAECBxYQNB6Y0AAECBAgQIAAAQIECBAgQIAAAQIECAgaPQMECBAgQIAAAQIECBAgQIAAAQIECBxYQNB4YEIDECBAgAABAgQIECBAgAABAgQIECAgaPQMECBAgAABAgQIECBAgAABAgQIECBwYAFB44EJDUCAAAECBAgQIECAAAECBAgQIECAgKDRM0CAAAECBAgQIECAAAECBAgQIECAwIEFBI0HJjQAAQIECBAgQIAAAQIECBAgQIAAAQKCRs8AAQIECBAgQIAAAQIECBAgQIAAAQIHFhA0HpjQAAQIECBAgAABAgQIECBAgAABAgQICBo9AwQIECBAgAABAgQIECBAgAABAgQIHFhA0HhgQgMQIECAAAECBAgQIECAAAECBAgQICBo9AwQIECAAAECBAgQIECAAAECBAgQIHBgAUHjgQkNQIAAAQIECBAgQIAAAQIECBAgQICAoNEzQIAAAQIECBAgQIAAAQIECBAgQIDAgQUEjQcmNAABAgQIECBAgAABAgQIECBAgAABAoJGzwABAgQIECBAgAABAgQIECBAgAABAgcWEDQemNAABAgQIECAAAECBAgQIECAAAECBAgIGj0DBAgQIECAAAECBAgQIECAAAECBAgcWEDQeGBCAxAgQIAAAQIECBAg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AgQIECBAgAABAgQIECBAgACBdgUEje16Go0AAQIECBAgQIAAAQIECBAgQIBAkQKCxiLbrmgCBAgQIECAAAECBAgQIECAAAEC7QoIGtv1NBoBAgQIECBAgAABAgQIECBAgACBIgUEjUW2XdEECBAgQIAAAQIECBAgQIAAAQIE2hUQNLbraTQCBAgQIECAAAECBAgQIECAAAECRQoIGotsu6IJECBAgAABAgQIECBAgAABAgQItCsgaGzX02gECBAgQIAAAQIECBAgQIAAAQIEihQQNBbZdkUTIECAAAECBAgQIECAAAECBAgQaFdA0Niup9EIECBAgAABAgQIECBAgAABAgQIFCkgaCyy7YomQIAAAQIECBAgQIAAAQIECBAg0K6AoLFdT6MRIECAAAECBAgQIECAAAECBAgQKFJA0Fhk2xVNgAABAgQIECBAgAABAgQIECBAoF0BQWO7nkYjQIAAAQIECBAgQIAAAQIECBAgUKSAoLHItiuaAAECBAgQIECAAAECBAgQIECAQLsCgsZ2PY1GgAABAgQIECBAgAABAgQIECBAoEgBQWORbVc0AQIECBAgQIAAAQIECBAgQIAAgXYFBI3tehqNAAECBAgQIECAAAECBAgQIECAQJECgsYi265oAgQIECBAgAABAgQIECBAgAABAu0KCBrb9TQaAQIECBAgQIAAAQIECBAgQIAAgSIFBI1Ftl3RBAgQIECAAAECBAgQIECAAAECBNoVEDS262k0AgQIECBAgAABAgQIECBAgAABAkUKCBqLbLuiCRAgQIAAAQIECBAgQIAAAQIECLQrIGhs19NoBAgQIECAAAECBAgQIECAAAECBIoUEDQW2XZFEyBAgAABAgQIECBAgAABAgQIEGhXQNDYrqfRCBAgQIAAAQIECBAgQIAAAQIECBQpIGgssu2KJkCAAAECBAgQIECAAAECBAgQINCugKCxXU+jESBAgAABAgQIECBAgAABAgQIEChSQNBYZNsVTYAAAQIECBAgQIAAAQIECBAgQKBdAUFju55GI0CAAAECBAgQIECAAAECBAgQIFCkgKCxyLYrmgABAgQIECBAgAABAgQIECBAgEC7AoLGdj2NRoAAAQIECBAgQIAAAQIECBAgQKBIAUFjkW1XNAECBAgQIECAAAECBAgQIECAAIF2BQSN7XoajQABAgQIECBAgAABAgQIECBAgECRAoLGItuuaAIECBAgQIAAAQIECBAgQIAAAQLtCgga2/U0GgECBAgQIECAAAECBAgQIECAAIEiBQSNRbZd0QQIECBAgAABAgQIECBAgAABAgTaFRA0tutpNAIECBAgQIAAAQIECBAgQIAAAQJFCggai2y7ogkQIECAAAECBAgQIECAAAECBAi0KyBobNfTaAQIECBAgAABAgQIECBAgAABAgSKFBA0Ftl2RRMgQIAAAQIECBAgQIAAAQIECBBoV0DQ2K6n0QgQIECAAAECBAgQIECAAAECBAgUKSBoLLLtiiZAgAABAgQIECBAgAABAgQIECDQroCgsV1PoxEgQIAAAQIECBAgQIAAAQIECBAoUkDQWGTbFU2AAAECBAgQIECAAAECBAgQIECgXQFBY7ueRiNAgAABAgQIECBAgAABAgQIECBQpICgsci2K5oAAQIECBAgQIAAAQIECBAgQIBAuwKCxnY9jUaAAAECBAgQIECAAAECBAgQIECgSAFBY5FtVzQBAgQIECBAgAABAgQIECBAgACBdgUEje16Go0AAQIECBAgQIAAAQIECBAgQIBAkQKCxiLbrmgCBAgQIECAAAECBAgQIECAAAEC7QoIGtv1NBoBAgQIECBAgAABAgQIECBAgACBIgUEjUW2XdEECBAgQIAAAQIECBAgQIAAAQIE2hUQNLbraTQCBAgQIECAAAECBAgQIECAAAECRQoIGotsu6IJECBAgAABAgQIECBAgAABAgQItCsgaGzX02gECBAgQIAAAQIECBAgQIAAAQIEihQQNBbZdkUTIECAAAECBAgQIECAAAECBAgQaFdA0Niup9EIECBAgAABAgQIECBAgAABAgQIFCkgaCyy7YomQIAAAQIECBAgQIAAAQIECBAg0K6AoLFdT6MRIECAAAECBAgQIECAAAECBAgQKFJA0Fhk2xVNgAABAgQIECBAgAABAgQIECBAoF0BQWO7nkYjQIAAAQIECBAgQIAAAQIECBAgUKSAoLHItiuaAAECBAgQIECAAAECBAgQIECAQLsCgsZ2PY1GgAABAgQIECBAgAABAgQIECBAoEgBQWORbVc0AQIECBAgQIAAAQIECBAgQIAAgXYFBI3tehqNAAECBAgQIECAAAECBAgQIECAQJECgsYi265oAgQIECBAgAABAgQIECBAgAABAu0KCBrb9TQaAQIECBAgQIAAAQIECBAgQIAAgSIFBI1Ftl3RBAgQIECAAAECBAgQIECAAAECBNoVEDS262k0AgQIECBAgAABAgQIECBAgAABAkUKCBqLbLuiCRAgQIAAAQIECBAgQIAAAQIECLQrIGhs19NoBAgQIECAAAECBAgQIECAAAECBIoUEDQW2XZFEyBAgAABAgQIECBAgAABAgQIEGhXQNDYrqfRCBAgQIAAAQIECBAgQIAAAQIECBQpIGgssu2KJkCAAAECBAgQIECAAAECBAgQINCugKCxXU+jESBAgAABAgQIECBAgAABAgQIEChSQNBYZNsVTYAAAQIECBAgQIAAAQIECBAgQKBdAUFju55GI0CAAAECBAgQIECAAAECBAgQIFCkgKCxyLYrmgABAgQIECBAgAABAgQIECBAgEC7AoLGdj2NRoAAAQIECBAgQIAAAQIECBAgQKBIAUFjkW1XNAECBAgQIECAAAECBAgQIECAAIF2BQSN7XoajQABAgQIECBAgAABAgQIECBAgECRAoLGItuuaAIECBAgQIAAAQIECBAgQIAAAQLtCgga2/U0GgECBAgQIECAAAECBAgQIECAAIEiBQSNRbZd0QQIECBAgAABAgQIECBAgAABAgTaFRA0tutpNAIECBAgQIAAAQIECBAgQIAAAQJFCggai2y7ogkQIECAAAECBAgQIECAAAECBAi0KyBobNfTaAQIECBAgAABAgQIECBAgAABAgSKFBA0Ftl2RRMgQIAAAQIECBAgQIAAAQIECBBoV0DQ2K6n0QgQIECAAAECBAgQIECAAAECBAgUKSBoLLLtiiZAgAABAgQIECBAgAABAgQIECDQroCgsV1PoxEgQIAAAQIECBAgQIAAAQIECBAoUkDQWGTbFU2AAAECBAgQIECAAAECBAgQIECgXQFBY7ueRiNAgAABAgQIECBAgAABAgQIECBQpICgsci2K5oAAQIECBAgQIAAAQIECBAgQIBAuwKCxnY9jUaAAAECBAgQIECAAAECBAgQIECgSAFBY5FtVzQBAgQIECBAgAABAgQIECBAgACBdgUEje16Go0AAQIECBAgQIAAAQIECBAgQIBAkQKCxiLbrmgCBAgQIECAAAECBAgQIECAAAEC7QoIGtv1NBoBAgQIECBAgAABAgQIECBAgACBIgUEjUW2XdEECBAgQIAAAQIECBAgQIAAAQIE2hUQNLbraTQCBAgQIECAAAECBAgQIECAAAECRQoIGotsu6IJECBAgAABAgQIECBAgAABAgQItCsgaGzX02gECBAgQIAAAQIECBAgQIAAAQIEihQQNBbZdkUTIECAAAECBAgQIECAAAECBAgQaFdA0Niup9EIECBAgAABAgQIECBAgAABAgQIFCkgaCyy7YomQIAAAQIECBAgQIAAAQIECBAg0K6AoLFdT6MRIECAAAECBAgQIECAAAECBAgQKFJA0Fhk2xVNgAABAgQIECBAgAABAgQIECBAoF0BQWO7nkYjQIAAAQIECBAgQIAAAQIECBAgUKSAoLHItiuaAAECBAgQIECAAAECBAgQIECAQLsCgsZ2PY1GgAABAgQIECBAgAABAgQIECBAoEgBQWORbVc0AQIECBAgQIAAAQIECBAgQIAAgXYFBI3tehqNAAECBAgQIECAAAECBAgQIECAQJEC/x9671aT+Tzh9wAAAABJRU5ErkJggg=='}
	 * 
	 * ,permissions:{ fields:{ "sj1":'r'} } };
	 */
	// responses: {"m1":"测试单行数据",
	// "m2":"测试多行数据",
	// "m3":"<p>测试富文本数据<p>",
	// "m4":"9",
	// "m5":"1",
	// "m6":"1,2",
	// "m7":"2",
	// "m8":"2016-10-27",
	// "m9":"q11",
	// "m10":"[{\"id\":\"31323010-7405-11e6-e989-b60d6c0e70bb\",\"filename\":\"2.jpg\"},{\"id\":\"b61c02c0-69cd-11e6-d9ff-1dc804b38866\",\"filename\":\"2.jpg\"}]",
	// "m11":"[{\"id\":\"4c1e2000-7405-11e6-e989-b60d6c0e70bb\",\"name\":\"测试人员\"}]",
	// "xx1":[{"s1":"11","s2":"12","s3":"13","s4":"1","s5":"15"},{"s1":"21","s2":"22","s3":"23","s4":"2","s5":"25"}]
	// }
	// };
	
	//格式json
	function format4popup(object) {
		return JSON.stringify(object, null, 2)
				.replace(/</g, '&lt;').replace(/>/g, '&gt;');
	}
		
	FormRenderer.Models.ResponseButtonClose = FormRenderer.Models.ResponseButton.extend({
			enablePage : true,
			action : function() {
				if (frameElement && frameElement.dialog && frameElement.dialog.callback ) 
					frameElement.dialog.callback();
				DialogUtil.closeDialog();
			}
		});
		FormRenderer.Models.ResponseButtonPreview = FormRenderer.Models.ResponseButton.extend({
			action : function() {
				var fr= this.getForm();
				if (!fr.validate()) {
					DialogUtil.toastr(fr.getErrorMsg());
					return;
				}
				DialogUtil.open({
					title : "预览数据",
					area : [ '500px', '400px' ],
					content : '<pre class="code-popup">'
							+ format4popup(fr.getValue()) + '</pre>',
					btn : [ {
						label : '&#x786E;&#x5B9A;',
						action : function(dialog, index) {
							DialogUtil.close(index);
						}
					} ]
				});
			}
		});
		
		var response_buttons= new Backbone.Collection;
		
		response_buttons.add( new FormRenderer.Models.ResponseButtonClose({
			label:'关闭',
			alias:"close",
			style : "btn-default",
			icon : "fa fa-close",
		}));
		
		response_buttons.add( new FormRenderer.Models.ResponseButtonPreview({
			alias:"preview",
			label:"预览数据",
			icon : "fa fa-eye"
		}));
		
	var fr = new FormRenderer($.extend(data, {
		onReady : function() {
			$(document).ready((function(_this) {
		          return function() {
		        	  if(_this.subviews.toolbar)
							_this.subviews.toolbar.$el.stickUp();
		          };
	        })(this));
		},
		toolbar:{
			response_buttons:response_buttons
		}
	}));
	

	//上次模版
	$(document).on("click","a.js-gen-template",
			function() {
				DialogUtil.dialog({
					content : __ctx
							+ '/platform/form/formDef/genTemplate.htm?id=' + id
							+ '&mode=' + mode,
					area : [ '90%', '90%' ]
				})
			});

});
